<svg xmlns="http://www.w3.org/2000/svg" width="960" height="260" aria-label="Group message flow" role="img" viewBox="0 0 960 260"><defs><style>.box{fill:#f6f5f3;stroke:#2b2b2b}.box,.drop,.note{stroke-width:2}.drop{fill:#fff1f1;stroke:#a33}.note{fill:#fffaf0;stroke:#9a7b00}.text{font:14px &quot;SF Pro Text&quot;,-apple-system,Helvetica,Arial,sans-serif;fill:#1a1a1a}.label{font:12px &quot;SF Pro Text&quot;,-apple-system,Helvetica,Arial,sans-serif;fill:#333}.arrow{stroke:#2b2b2b;stroke-width:2;fill:none;marker-end:url(#arrow)}</style><marker id="arrow" markerHeight="10" markerWidth="10" orient="auto" refX="8" refY="3"><path fill="#2b2b2b" d="M0,0 L8,3 L0,6 Z"/></marker></defs><rect width="140" height="60" x="20" y="40" class="box" rx="8"/><text x="90" y="75" class="text" text-anchor="middle">Group message</text><rect width="160" height="60" x="200" y="40" class="box" rx="8"/><text x="280" y="68" class="text" text-anchor="middle">Group policy</text><text x="280" y="86" class="label" text-anchor="middle">open / disabled / allowlist</text><rect width="150" height="60" x="400" y="40" class="box" rx="8"/><text x="475" y="75" class="text" text-anchor="middle">Allowlist</text><rect width="170" height="60" x="580" y="40" class="box" rx="8"/><text x="665" y="68" class="text" text-anchor="middle">Mention gating</text><text x="665" y="86" class="label" text-anchor="middle">requireMention</text><rect width="140" height="60" x="780" y="40" class="box" rx="8"/><text x="850" y="75" class="text" text-anchor="middle">Reply</text><line x1="160" x2="200" y1="70" y2="70" class="arrow"/><line x1="360" x2="400" y1="70" y2="70" class="arrow"/><line x1="550" x2="580" y1="70" y2="70" class="arrow"/><line x1="750" x2="780" y1="70" y2="70" class="arrow"/><rect width="120" height="50" x="220" y="150" class="drop" rx="8"/><text x="280" y="180" class="text" text-anchor="middle">Drop</text><line x1="280" x2="280" y1="100" y2="150" class="arrow"/><text x="250" y="130" class="label" text-anchor="end">disabled</text><rect width="120" height="50" x="410" y="150" class="drop" rx="8"/><text x="470" y="180" class="text" text-anchor="middle">Drop</text><line x1="475" x2="470" y1="100" y2="150" class="arrow"/><text x="445" y="130" class="label" text-anchor="end">not allowed</text><rect width="200" height="50" x="600" y="150" class="note" rx="8"/><text x="700" y="175" class="text" text-anchor="middle">Store for context</text><text x="700" y="192" class="label" text-anchor="middle">(no mention)</text><line x1="665" x2="700" y1="100" y2="150" class="arrow"/></svg>